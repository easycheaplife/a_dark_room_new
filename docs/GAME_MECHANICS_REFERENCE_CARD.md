# 🎮 游戏机制快速参考卡片

**最后更新**: 2025-06-26

## 📊 核心数值速查表

### 玩家属性基础值

| 属性 | 基础值 | 单位 | 常量名 |
|------|--------|------|--------|
| 健康值 | 10 | 点 | `baseHealth` |
| 水容量 | 10 | 单位 | `baseWater` |
| 背包容量 | 10 | 重量 | `defaultBagSpace` |
| 移动消耗 | 1 | 水/步 | `movesPerWater` |
| 食物消耗 | 1 | 肉/2步 | `movesPerFood` |

### 治疗物品效果

| 物品 | 恢复量 | 常量名 | 技能加成 |
|------|--------|--------|----------|
| 熏肉 | 8 | `meatHeal` | 美食家×2 |
| 药物 | 20 | `medsHeal` | 无 |
| 注射器 | 30 | `hypoHeal` | 无 |

## 🛡️ 护甲系统

### 护甲血量加成

| 护甲类型 | 血量加成 | 总血量 | 制作成本 |
|----------|----------|--------|----------|
| 无护甲 | +0 | **10** | - |
| 皮革护甲 | +5 | **15** | 皮革200 + 鳞片20 |
| 铁制护甲 | +15 | **25** | 皮革200 + 铁100 |
| 钢制护甲 | +35 | **45** | 皮革200 + 钢100 |
| 动能护甲 | +75 | **85** | 外星合金2 |

### 护甲升级路径
```
10 → 15 → 25 → 45 → 85
   1.5×  1.67×  1.8×  1.89×
```

## 💧 水容量系统

### 水容器升级

| 容器 | 额外容量 | 总容量 | 制作成本 |
|------|----------|--------|----------|
| 基础 | +0 | **10** | - |
| 水壶 | +10 | **20** | 皮革50 |
| 水桶 | +20 | **30** | 皮革100 + 铁20 |
| 水罐 | +50 | **60** | 铁100 + 钢50 |
| 流体回收器 | +100 | **110** | 外星合金2 |

### 水容量升级路径
```
10 → 20 → 30 → 60 → 110
   2×   1.5×  2×   1.83×
```

## 🎒 背包系统

### 载具升级

| 载具 | 额外容量 | 总容量 | 制作成本 |
|------|----------|--------|----------|
| 基础 | +0 | **10** | - |
| 双肩包 | +10 | **20** | 皮革200 |
| 马车 | +30 | **40** | 木材500 + 铁100 |
| 车队 | +60 | **70** | 木材1000 + 铁200 + 钢100 |
| 货运无人机 | +100 | **110** | 外星合金2 |

### 重要物品重量

| 物品 | 重量 | 物品 | 重量 |
|------|------|------|------|
| 骨枪 | 2.0 | 步枪 | 5.0 |
| 铁剑 | 3.0 | 激光步枪 | 5.0 |
| 钢剑 | 5.0 | 流星锤 | 0.5 |
| 子弹 | 0.1 | 能量电池 | 0.2 |

## 🔥 火把需求速查

### 需要火把的地形

| 地形 | 符号 | 火把数量 | 检查方式 |
|------|------|----------|----------|
| 潮湿洞穴 | V | 1个 | 背包检查 |
| 铁矿 | I | 1个 | 背包检查 |

### 不需要火把的地形

| 地形 | 符号 | 说明 |
|------|------|------|
| 煤矿 | C | 直接攻击 |
| 硫磺矿 | S | 直接攻击 |
| 废弃小镇 | O | 部分场景需要 |
| 废墟城市 | Y | 部分场景需要 |

## 🏛️ 前哨站系统

### 地标转换规则

| 地标 | 符号 | 转换条件 | 特殊标记 |
|------|------|----------|----------|
| 潮湿洞穴 | V | 完全探索 | - |
| 废弃小镇 | O | 完全探索 | - |
| 废墟城市 | Y | 完全探索 | cityCleared=true |
| 执行者 | X | 击败Boss | - |

### 前哨站功能
- **水源补给**: 恢复到最大水容量
- **一次性使用**: 每个前哨站只能使用一次
- **道路连接**: 自动连接到村庄
- **永久存在**: 一旦创建就永久存在

## 🗺️ 地形概率

### 基础地形生成概率

| 地形 | 符号 | 概率 | 说明 |
|------|------|------|------|
| 荒地 | . | 50% | 最常见 |
| 田野 | , | 35% | 较常见 |
| 森林 | ; | 15% | 较少见 |

### 地标分布规律

| 距离范围 | 地标类型 | 特点 |
|----------|----------|------|
| 0-10 | 基础地标 | 房子、洞穴 |
| 10-20 | 中级地标 | 小镇、矿山 |
| 20+ | 高级地标 | 城市、执行者 |

## ⚔️ 战斗系统

### 遭遇事件分级

#### Tier 1 (距离 ≤ 10)
| 敌人 | 血量 | 伤害 | 命中率 |
|------|------|------|--------|
| 咆哮野兽 | 5 | 1 | 80% |
| 憔悴男人 | 6 | 2 | 80% |
| 奇怪鸟类 | 4 | 3 | 80% |

#### Tier 2 (距离 10-20)
| 敌人 | 血量 | 伤害 | 命中率 |
|------|------|------|--------|
| 巨大蜘蛛 | 8 | 4 | 75% |
| 盗贼 | 10 | 3 | 85% |

#### Tier 3 (距离 > 20)
| 敌人 | 血量 | 伤害 | 命中率 |
|------|------|------|--------|
| 死神 | 15 | 8 | 90% |

## 📈 探索能力计算

### 探索范围公式
```
最大探索距离 = 水容量 - 安全余量
安全余量 = 2-3 (建议值)

示例：
水容量20 → 最大探索17-18格
水容量60 → 最大探索57-58格
```

### 前哨站战略价值
```
有效探索半径 = 前哨站距离 + 水容量
总探索面积 = π × (有效探索半径)²

示例：
前哨站距离15 + 水容量20 = 35格半径
探索面积 ≈ 3848 格
```

## 🎯 优化建议

### 升级优先级

#### 早期 (0-10格探索)
1. 皮革护甲 (+5血量)
2. 水壶 (+10水容量)
3. 双肩包 (+10背包)

#### 中期 (10-20格探索)
1. 铁制护甲 (+15血量)
2. 水桶 (+20水容量)
3. 马车 (+30背包)

#### 后期 (20+格探索)
1. 钢制护甲 (+35血量)
2. 水罐 (+50水容量)
3. 车队 (+60背包)

### 资源管理策略

#### 水资源
- 计划探索路线
- 利用前哨站补给
- 预留安全余量

#### 背包管理
- 优先携带轻型高价值物品
- 为战利品预留空间
- 根据目标选择装备

#### 健康管理
- 血量低于50%时考虑治疗
- 进入危险区域前确保满血
- 合理使用治疗物品

## 🔧 开发者常用常量

### 代码中的关键常量
```dart
// 基础属性
static const int baseHealth = 10;
static const int baseWater = 10;
static const int defaultBagSpace = 10;

// 消耗速率
static const int movesPerWater = 1;
static const int movesPerFood = 2;

// 治疗效果
static const int meatHeal = 8;
static const int medsHeal = 20;
static const int hypoHeal = 30;

// 地形概率
tileProbs[tile['forest']!] = 0.15;
tileProbs[tile['field']!] = 0.35;
tileProbs[tile['barrens']!] = 0.5;
```

---

*本参考卡片提供A Dark Room核心游戏机制的快速查询，适合开发和调试时使用。*
