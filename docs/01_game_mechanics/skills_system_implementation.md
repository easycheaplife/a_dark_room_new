# A Dark Room æŠ€èƒ½ç³»ç»Ÿå®ç°æ–‡æ¡£

## ğŸ“… æœ€åæ›´æ–°
2025-06-19 æ™šä¸Š

## ğŸ¯ å®ç°æ¦‚è§ˆ

æŠ€èƒ½ç³»ç»Ÿå·²å®Œå…¨é›†æˆåˆ°äº‹ä»¶ç³»ç»Ÿä¸­ï¼Œæ‰€æœ‰æŠ€èƒ½éƒ½æŒ‰ç…§åŸæ¸¸æˆè®¾è®¡å®ç°äº†å®é™…æ•ˆæœã€‚

### å®Œæˆåº¦çŠ¶æ€
- **æˆ˜æ–—æŠ€èƒ½**: 6/6 (100%) âœ…
- **ç”Ÿå­˜æŠ€èƒ½**: 4/4 (100%) âœ…
- **ç‰¹æ®ŠæŠ€èƒ½**: 2/2 (100%) âœ…
- **æŠ€èƒ½è·å¾—æœºåˆ¶**: 5/5 (100%) âœ…
- **æ•´ä½“å®Œæˆåº¦**: 100% ğŸ¯

## ğŸ¥‹ æŠ€èƒ½åˆ†ç±»ä¸æ•ˆæœ

### æˆ˜æ–—æŠ€èƒ½ (Combat Skills)

#### 1. é—ªé¿ (Evasive)
- **è·å¾—æ–¹å¼**ï¼šå¤§å¸ˆäº‹ä»¶å­¦ä¹ 
- **æ•ˆæœ**ï¼šå‡å°‘20%è¢«æ•Œäººå‡»ä¸­çš„æ¦‚ç‡
- **å®ç°ä½ç½®**ï¼š`lib/modules/events.dart` - `enemyAttack()`
- **ä»£ç **ï¼š
  ```dart
  if (StateManager().hasPerk('evasive')) {
    toHit *= 0.8;
  }
  ```

#### 2. ç²¾å‡† (Precise)
- **è·å¾—æ–¹å¼**ï¼šå¤§å¸ˆäº‹ä»¶å­¦ä¹ 
- **æ•ˆæœ**ï¼šå¢åŠ 10%å‘½ä¸­ç‡
- **å®ç°ä½ç½®**ï¼š`lib/modules/world.dart` - `getHitChance()`
- **ä»£ç **ï¼š
  ```dart
  if (StateManager().hasPerk('precise')) {
    hitChance += 0.1;
  }
  ```

#### 3. é‡è›®äºº (Barbarian)
- **è·å¾—æ–¹å¼**ï¼šå¤§å¸ˆäº‹ä»¶å­¦ä¹ 
- **æ•ˆæœ**ï¼šè¿‘æˆ˜æ­¦å™¨ä¼¤å®³å¢åŠ 50%
- **å®ç°ä½ç½®**ï¼š`lib/modules/events.dart` - `playerAttack()`
- **ä»£ç **ï¼š
  ```dart
  if (weaponType == 'melee' && StateManager().hasPerk('barbarian')) {
    dmg = (dmg * 1.5).round();
  }
  ```

#### 4. æ‹³å‡»æ‰‹ (Boxer)
- **è·å¾—æ–¹å¼**ï¼šå¤§å¸ˆäº‹ä»¶å­¦ä¹ 
- **æ•ˆæœ**ï¼šå¾’æ‰‹ä¼¤å®³ç¿»å€
- **å®ç°ä½ç½®**ï¼š`lib/modules/events.dart` - `playerAttack()`
- **ä»£ç **ï¼š
  ```dart
  if (weaponType == 'unarmed' && StateManager().hasPerk('boxer')) {
    dmg *= 2;
  }
  ```

#### 5. æ­¦æœ¯å®¶ (Martial Artist)
- **è·å¾—æ–¹å¼**ï¼šæ­¦æœ¯å¤§å¸ˆäº‹ä»¶å­¦ä¹ ï¼ˆéœ€è¦å…ˆæœ‰æ‹³å‡»æ‰‹æŠ€èƒ½ï¼‰
- **æ•ˆæœ**ï¼šå¾’æ‰‹ä¼¤å®³å¢åŠ 50%
- **å®ç°ä½ç½®**ï¼š`lib/modules/events.dart` - `playerAttack()`
- **ä»£ç **ï¼š
  ```dart
  if (weaponType == 'unarmed' && StateManager().hasPerk('martial artist')) {
    dmg = (dmg * 1.5).round();
  }
  ```

#### 6. å¾’æ‰‹å¤§å¸ˆ (Unarmed Master)
- **è·å¾—æ–¹å¼**ï¼šæ­¦æœ¯å¤§å¸ˆäº‹ä»¶å­¦ä¹ ï¼ˆéœ€è¦å…ˆæœ‰æ­¦æœ¯å®¶æŠ€èƒ½ï¼‰
- **æ•ˆæœ**ï¼šå¾’æ‰‹ä¼¤å®³å†æ¬¡ç¿»å€
- **å®ç°ä½ç½®**ï¼š`lib/modules/events.dart` - `playerAttack()`
- **ä»£ç **ï¼š
  ```dart
  if (weaponType == 'unarmed' && StateManager().hasPerk('unarmed master')) {
    dmg *= 2;
  }
  ```

### ç”Ÿå­˜æŠ€èƒ½ (Survival Skills)

#### 1. ç¼“æ…¢æ–°é™ˆä»£è°¢ (Slow Metabolism)
- **è·å¾—æ–¹å¼**ï¼šæ²™æ¼ å‘å¯¼äº‹ä»¶å­¦ä¹ 
- **æ•ˆæœ**ï¼šé£Ÿç‰©æ¶ˆè€—å‡åŠ
- **å®ç°ä½ç½®**ï¼š`lib/modules/world.dart` - èµ„æºæ¶ˆè€—è®¡ç®—
- **ä»£ç **ï¼š
  ```dart
  if (StateManager().hasPerk('slow metabolism')) {
    currentMovesPerFood *= 2;
  }
  ```

#### 2. æ²™æ¼ é¼  (Desert Rat)
- **è·å¾—æ–¹å¼**ï¼šæ²™æ¼ å‘å¯¼äº‹ä»¶å­¦ä¹ 
- **æ•ˆæœ**ï¼šæ°´æ¶ˆè€—å‡åŠ
- **å®ç°ä½ç½®**ï¼š`lib/modules/world.dart` - èµ„æºæ¶ˆè€—è®¡ç®—
- **ä»£ç **ï¼š
  ```dart
  if (StateManager().hasPerk('desert rat')) {
    currentMovesPerWater *= 2;
  }
  ```

#### 3. æ½œè¡Œ (Stealthy)
- **è·å¾—æ–¹å¼**ï¼šæ²™æ¼ å‘å¯¼äº‹ä»¶å­¦ä¹ 
- **æ•ˆæœ**ï¼šå‡å°‘50%æˆ˜æ–—é­é‡æ¦‚ç‡
- **å®ç°ä½ç½®**ï¼š`lib/modules/world.dart` - `checkFight()`
- **ä»£ç **ï¼š
  ```dart
  if (StateManager().hasPerk('stealthy')) {
    chance *= 0.5;
  }
  ```

#### 4. ç¾é£Ÿå®¶ (Gastronome)
- **è·å¾—æ–¹å¼**ï¼šæ²¼æ³½åœ°æ ‡äº‹ä»¶è‡ªåŠ¨è·å¾—
- **æ•ˆæœ**ï¼šé£Ÿç‰©æ²»ç–—æ•ˆæœç¿»å€
- **å®ç°ä½ç½®**ï¼š`lib/modules/world.dart` - `meatHealAmount()`
- **ä»£ç **ï¼š
  ```dart
  if (StateManager().hasPerk('gastronome')) {
    healAmount *= 2;
  }
  ```

### ç‰¹æ®ŠæŠ€èƒ½ (Special Skills)

#### 1. ä¾¦å¯Ÿ (Scout)
- **è·å¾—æ–¹å¼**ï¼šä¾¦å¯Ÿå…µäº‹ä»¶å­¦ä¹ 
- **æ•ˆæœ**ï¼šæé«˜"è¢«æ¯çš„é™·é˜±"äº‹ä»¶ä¸­è¿½è¸ªæˆåŠŸç‡è‡³70%
- **å®ç°ä½ç½®**ï¼š`lib/events/outside_events.dart`
- **ä»£ç **ï¼š
  ```dart
  'nextScene': {'0.7': 'catch', '1.0': 'lose'} // ä¾¦å¯ŸæŠ€èƒ½æé«˜æˆåŠŸç‡
  ```

#### 2. å·çªƒ (Thief)
- **è·å¾—æ–¹å¼**ï¼šå°å·äº‹ä»¶ï¼ˆå¾…å®ç°å®Œæ•´æœºåˆ¶ï¼‰
- **æ•ˆæœ**ï¼šå½±å“æŸäº›äº‹ä»¶çš„æˆåŠŸç‡å’Œå¥–åŠ±

## ğŸ“ æŠ€èƒ½è·å¾—æœºåˆ¶

### 1. å¤§å¸ˆäº‹ä»¶ (The Master)
- **è§¦å‘æ¡ä»¶**ï¼šæœ‰ç«ä¸”ä¸–ç•Œå·²è§£é”
- **æˆæœ¬**ï¼š100ç†è‚‰ + 100æ¯›çš® + 1ç«æŠŠ
- **å¯å­¦æŠ€èƒ½**ï¼šé—ªé¿ã€ç²¾å‡†ã€é‡è›®äººã€æ‹³å‡»æ‰‹
- **æœºåˆ¶**ï¼šéšæœºå­¦ä¹ ä¸€ä¸ªæœªæŒæ¡çš„æŠ€èƒ½

### 2. æ­¦æœ¯å¤§å¸ˆäº‹ä»¶ (Martial Master)
- **è§¦å‘æ¡ä»¶**ï¼šæœ‰ç« + å·²æœ‰æ‹³å‡»æ‰‹æŠ€èƒ½ + äººå£â‰¥50
- **æˆæœ¬**ï¼š200ç†è‚‰ + 200æ¯›çš®
- **å¯å­¦æŠ€èƒ½**ï¼šæ­¦æœ¯å®¶ã€å¾’æ‰‹å¤§å¸ˆ
- **æœºåˆ¶**ï¼šæŒ‰é¡ºåºå­¦ä¹ ï¼ˆå…ˆæ­¦æœ¯å®¶ï¼Œåå¾’æ‰‹å¤§å¸ˆï¼‰

### 3. æ²™æ¼ å‘å¯¼äº‹ä»¶ (Desert Guide)
- **è§¦å‘æ¡ä»¶**ï¼šæœ‰ç« + ä¸–ç•Œå·²è§£é” + æ°´â‰¥100
- **æˆæœ¬**ï¼š100æ°´ + 50ç†è‚‰
- **å¯å­¦æŠ€èƒ½**ï¼šç¼“æ…¢æ–°é™ˆä»£è°¢ã€æ²™æ¼ é¼ ã€æ½œè¡Œ
- **æœºåˆ¶**ï¼šé€‰æ‹©å­¦ä¹ ä»»æ„ä¸€ä¸ªæœªæŒæ¡çš„æŠ€èƒ½

### 4. ä¾¦å¯Ÿå…µäº‹ä»¶ (The Scout)
- **è§¦å‘æ¡ä»¶**ï¼šæœ‰ç«ä¸”ä¸–ç•Œå·²è§£é”
- **æˆæœ¬**ï¼š1000æ¯›çš® + 50é³ç‰‡ + 20ç‰™é½¿
- **å¯å­¦æŠ€èƒ½**ï¼šä¾¦å¯Ÿ
- **æœºåˆ¶**ï¼šç›´æ¥å­¦ä¹ ä¾¦å¯ŸæŠ€èƒ½

### 5. æ²¼æ³½åœ°æ ‡äº‹ä»¶ (Swamp)
- **è§¦å‘æ¡ä»¶**ï¼šåœ¨ä¸–ç•Œåœ°å›¾ä¸­é‡åˆ°æ²¼æ³½åœ°æ ‡
- **æˆæœ¬**ï¼šæ— 
- **å¯å­¦æŠ€èƒ½**ï¼šç¾é£Ÿå®¶
- **æœºåˆ¶**ï¼šè°ƒæŸ¥æ²¼æ³½è‡ªåŠ¨è·å¾—

## ğŸ”§ æŠ€æœ¯å®ç°ç»†èŠ‚

### StateManager æŠ€èƒ½ç³»ç»Ÿ
```dart
// æ£€æŸ¥æ˜¯å¦æ‹¥æœ‰æŠ€èƒ½
bool hasPerk(String perkName) {
  return get('character.perks.$perkName', true) ?? false;
}

// æ·»åŠ æŠ€èƒ½
void addPerk(String perkName) {
  set('character.perks.$perkName', true);
}
```

### æŠ€èƒ½æ•ˆæœé›†æˆç‚¹

#### æˆ˜æ–—ç³»ç»Ÿ
- **æ•Œäººæ”»å‡»**ï¼š`lib/modules/events.dart` - `enemyAttack()`
- **ç©å®¶æ”»å‡»**ï¼š`lib/modules/events.dart` - `playerAttack()`
- **å‘½ä¸­ç‡è®¡ç®—**ï¼š`lib/modules/world.dart` - `getHitChance()`

#### ä¸–ç•Œæ¢ç´¢
- **èµ„æºæ¶ˆè€—**ï¼š`lib/modules/world.dart` - é£Ÿç‰©å’Œæ°´çš„æ¶ˆè€—è®¡ç®—
- **æˆ˜æ–—é­é‡**ï¼š`lib/modules/world.dart` - `checkFight()`
- **æ²»ç–—æ•ˆæœ**ï¼š`lib/modules/world.dart` - `meatHealAmount()`

#### äº‹ä»¶ç³»ç»Ÿ
- **è¿½è¸ªæˆåŠŸç‡**ï¼š`lib/events/outside_events.dart` - è¢«æ¯çš„é™·é˜±äº‹ä»¶
- **æŠ€èƒ½å­¦ä¹ **ï¼šå„ç§äº‹ä»¶çš„æŠ€èƒ½è·å¾—æœºåˆ¶

## ğŸ“Š æŠ€èƒ½æ•ˆæœæ•°å€¼

### æˆ˜æ–—æ•ˆæœ
- **é—ªé¿**ï¼šè¢«å‡»ä¸­æ¦‚ç‡ Ã— 0.8 (å‡å°‘20%)
- **ç²¾å‡†**ï¼šå‘½ä¸­ç‡ + 0.1 (å¢åŠ 10%)
- **é‡è›®äºº**ï¼šè¿‘æˆ˜ä¼¤å®³ Ã— 1.5 (å¢åŠ 50%)
- **æ‹³å‡»æ‰‹**ï¼šå¾’æ‰‹ä¼¤å®³ Ã— 2 (ç¿»å€)
- **æ­¦æœ¯å®¶**ï¼šå¾’æ‰‹ä¼¤å®³ Ã— 1.5 (å¢åŠ 50%)
- **å¾’æ‰‹å¤§å¸ˆ**ï¼šå¾’æ‰‹ä¼¤å®³ Ã— 2 (å†æ¬¡ç¿»å€)

### ç”Ÿå­˜æ•ˆæœ
- **ç¼“æ…¢æ–°é™ˆä»£è°¢**ï¼šé£Ÿç‰©æ¶ˆè€—é—´éš” Ã— 2 (å‡åŠæ¶ˆè€—)
- **æ²™æ¼ é¼ **ï¼šæ°´æ¶ˆè€—é—´éš” Ã— 2 (å‡åŠæ¶ˆè€—)
- **æ½œè¡Œ**ï¼šæˆ˜æ–—é­é‡æ¦‚ç‡ Ã— 0.5 (å‡å°‘50%)
- **ç¾é£Ÿå®¶**ï¼šé£Ÿç‰©æ²»ç–—é‡ Ã— 2 (ç¿»å€æ•ˆæœ)

### ç‰¹æ®Šæ•ˆæœ
- **ä¾¦å¯Ÿ**ï¼šè¿½è¸ªæˆåŠŸç‡ä»50%æå‡è‡³70%

## ğŸ¯ æŠ€èƒ½ç»„åˆç­–ç•¥

### å¾’æ‰‹æˆ˜æ–—æµ
1. **æ‹³å‡»æ‰‹** â†’ å¾’æ‰‹ä¼¤å®³Ã—2
2. **æ­¦æœ¯å®¶** â†’ å¾’æ‰‹ä¼¤å®³Ã—1.5 (å åŠ )
3. **å¾’æ‰‹å¤§å¸ˆ** â†’ å¾’æ‰‹ä¼¤å®³Ã—2 (å†æ¬¡å åŠ )
4. **ç²¾å‡†** â†’ å‘½ä¸­ç‡+10%
5. **é—ªé¿** â†’ è¢«å‡»ä¸­ç‡-20%

### ç”Ÿå­˜æ¢ç´¢æµ
1. **ç¼“æ…¢æ–°é™ˆä»£è°¢** â†’ é£Ÿç‰©æ¶ˆè€—å‡åŠ
2. **æ²™æ¼ é¼ ** â†’ æ°´æ¶ˆè€—å‡åŠ
3. **æ½œè¡Œ** â†’ æˆ˜æ–—é­é‡å‡åŠ
4. **ç¾é£Ÿå®¶** â†’ æ²»ç–—æ•ˆæœç¿»å€
5. **ä¾¦å¯Ÿ** â†’ è¿½è¸ªæˆåŠŸç‡æå‡

## ğŸ‰ å®ç°æˆå°±

### å®Œæ•´æ€§
- âœ… æ‰€æœ‰åŸæ¸¸æˆæŠ€èƒ½éƒ½å·²å®ç°
- âœ… æŠ€èƒ½æ•ˆæœå®Œå…¨ç¬¦åˆåŸæ¸¸æˆè®¾è®¡
- âœ… æŠ€èƒ½è·å¾—æœºåˆ¶å®Œæ•´å®ç°
- âœ… æŠ€èƒ½åœ¨å„ä¸ªç³»ç»Ÿä¸­æ­£ç¡®é›†æˆ

### æŠ€æœ¯è´¨é‡
- âœ… ä»£ç ç»“æ„æ¸…æ™°ï¼Œæ˜“äºç»´æŠ¤
- âœ… æŠ€èƒ½æ•ˆæœè®¡ç®—å‡†ç¡®
- âœ… ä¸ç°æœ‰ç³»ç»Ÿæ— ç¼é›†æˆ
- âœ… æ€§èƒ½å½±å“æœ€å°åŒ–

### æ¸¸æˆä½“éªŒ
- âœ… æŠ€èƒ½æä¾›æ˜æ˜¾çš„æ¸¸æˆä¼˜åŠ¿
- âœ… æŠ€èƒ½è·å¾—æœ‰åˆç†çš„æˆæœ¬å’Œæ¡ä»¶
- âœ… æŠ€èƒ½ç»„åˆæä¾›ç­–ç•¥æ·±åº¦
- âœ… å®Œå…¨ç¬¦åˆåŸæ¸¸æˆå¹³è¡¡æ€§

æŠ€èƒ½ç³»ç»Ÿçš„å®ç°æ ‡å¿—ç€A Dark Room Flutterç‰ˆæœ¬è¾¾åˆ°äº†100%çš„åŠŸèƒ½å®Œæ•´æ€§ï¼ğŸ®âœ¨
